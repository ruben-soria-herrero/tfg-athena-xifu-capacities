#!/usr/bin/env python2
# -*- coding: utf-8 -*-
"""
Created on Thu Feb 10 19:00:29 2022

@author: ruben
"""

import numpy as np
import matplotlib.pyplot as plt

tabla1="analisisTabla1"
tabla2="analisisTabla2"
f1=open(tabla1, 'r')
cabecero1=f1.readline()
texto1=f1.readlines()
f1.close()
f2=open(tabla2, 'r')
cabecero2=f2.readline()
texto2=f2.readlines()
f2.close()
distancias=np.array([0])
media1SNR1=np.array([0])
media1SNR2=np.array([0])
media1SNR3=np.array([0])
media2SNR1=np.array([0])
media2SNR2=np.array([0])
media2SNR3=np.array([0])
error1SNR1=np.array([0])
error1SNR2=np.array([0])
error1SNR3=np.array([0])
error2SNR1=np.array([0])
error2SNR2=np.array([0])
error2SNR3=np.array([0])
mediana1SNR1=np.array([0])
mediana1SNR2=np.array([0])
mediana1SNR3=np.array([0])
mediana2SNR1=np.array([0])
mediana2SNR2=np.array([0])
mediana2SNR3=np.array([0])
for i in range(len(texto1)):
    word1=texto1[i].split()
    word2=texto2[i].split()
    distancias=np.append(distancias, float(word1[0]))
    media1SNR1=np.append(media1SNR1, float(word1[1]))
    media1SNR2=np.append(media1SNR2, float(word1[3]))
    media1SNR3=np.append(media1SNR3, float(word1[5]))
    media2SNR1=np.append(media2SNR1, float(word2[1]))
    media2SNR2=np.append(media2SNR2, float(word2[3]))
    media2SNR3=np.append(media2SNR3, float(word2[5]))
    error1SNR1=np.append(error1SNR1, float(word1[2]))
    error1SNR2=np.append(error1SNR2, float(word1[4]))
    error1SNR3=np.append(error1SNR3, float(word1[6]))
    error2SNR1=np.append(error2SNR1, float(word2[2]))
    error2SNR2=np.append(error2SNR2, float(word2[4]))
    error2SNR3=np.append(error2SNR3, float(word2[6]))
    mediana1SNR1=np.append(mediana1SNR1, float(word1[7]))
    mediana1SNR2=np.append(mediana1SNR2, float(word1[8]))
    mediana1SNR3=np.append(mediana1SNR3, float(word1[9]))
    mediana2SNR1=np.append(mediana2SNR1, float(word2[7]))
    mediana2SNR2=np.append(mediana2SNR2, float(word2[8]))
    mediana2SNR3=np.append(mediana2SNR3, float(word2[9]))

distancias=np.delete(distancias, 0, 0)
media1SNR1=np.delete(media1SNR1, 0, 0)
media1SNR2=np.delete(media1SNR2, 0, 0)
media1SNR3=np.delete(media1SNR3, 0, 0)
media2SNR1=np.delete(media2SNR1, 0, 0)
media2SNR2=np.delete(media2SNR2, 0, 0)
media2SNR3=np.delete(media2SNR3, 0, 0)
error1SNR1=np.delete(error1SNR1, 0, 0)
error1SNR2=np.delete(error1SNR2, 0, 0)
error1SNR3=np.delete(error1SNR3, 0, 0)
error2SNR1=np.delete(error2SNR1, 0, 0)
error2SNR2=np.delete(error2SNR2, 0, 0)
error2SNR3=np.delete(error2SNR3, 0, 0)
mediana1SNR1=np.delete(mediana1SNR1, 0, 0)
mediana1SNR2=np.delete(mediana1SNR2, 0, 0)
mediana1SNR3=np.delete(mediana1SNR3, 0, 0)
mediana2SNR1=np.delete(mediana2SNR1, 0, 0)
mediana2SNR2=np.delete(mediana2SNR2, 0, 0)
mediana2SNR3=np.delete(mediana2SNR3, 0, 0)

real=np.array([7.97645,7.97645,7.97645,7.97645,7.97645,7.97645,7.97645,7.97645])

plt.errorbar(distancias, media1SNR1, yerr=error1SNR1, fmt='o', color='r', ecolor='m')
plt.errorbar(distancias, media2SNR1, yerr=error2SNR1, fmt='^', color='b', ecolor='k')
#plt.plot(distancias, real, linestyle='solid', color='k')
plt.legend((r"Fuente brillante: $8\cdot 10^{-12}\frac{erg}{s\cdot cm^2}$", r"Fuente brillante: $10^{-12}\frac{erg}{s\cdot cm^2}$"), prop={"size": 10}, loc="lower right")
plt.xlabel("Distancia (grados)")
plt.ylabel("SNR")
plt.title("Comparacion medias de dos tablas (0.5-2keV)")
plt.axis([0.005,0.035, 4, 10])
plt.rc('xtick',top=True)
plt.rc('ytick',right=True)
plt.show()

plt.errorbar(distancias, media1SNR2, yerr=error1SNR2, fmt='o', color='r', ecolor='m')
plt.errorbar(distancias, media2SNR2, yerr=error2SNR2, fmt='^', color='b', ecolor='k')
plt.legend((r"Fuente brillante: $8\cdot 10^{-12}\frac{erg}{s\cdot cm^2}$", r"Fuente brillante: $10^{-12}\frac{erg}{s\cdot cm^2}$"), prop={"size": 10}, loc="lower right")
plt.xlabel("Distancia (grados)")
plt.ylabel("SNR")
plt.title("Comparacion medias de dos tablas (2-10keV)")
plt.axis([0.005,0.035, 0, 4.5])
plt.rc('xtick',top=True)
plt.rc('ytick',right=True)
plt.show()

plt.errorbar(distancias, media1SNR3, yerr=error1SNR3, fmt='o', color='r', ecolor='m')
plt.errorbar(distancias, media2SNR3, yerr=error2SNR3, fmt='^', color='b', ecolor='k')
plt.legend((r"Fuente brillante: $8\cdot 10^{-12}\frac{erg}{s\cdot cm^2}$", r"Fuente brillante: $10^{-12}\frac{erg}{s\cdot cm^2}$"), prop={"size": 10}, loc="lower right")
plt.xlabel("Distancia (grados)")
plt.ylabel("SNR")
plt.title("Comparacion medias de dos tablas (0.5-10keV)")
plt.axis([0.005,0.035, 0, 10])
plt.rc('xtick',top=True)
plt.rc('ytick',right=True)
plt.show()